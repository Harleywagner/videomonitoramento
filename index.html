<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUC PREMIUM - Videomonitoramento</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header Premium -->
        <header>
            <div class="logo-container">
                <div class="logo-icon">üõ°Ô∏è</div>
                <div class="logo-text">
                    <h1>VIDEOMONITORAMENTO HUC</h1>
                    <p>Sistema de Seguran√ßa Profissional</p>
                </div>
            </div>
            <div class="header-meta">
                <div id="currentTime">--:--:--</div>
                <div class="version-badge">PREMIUM EDITION V3.5</div>
            </div>
        </header>

        <!-- Navega√ß√£o Premium -->
        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('dashboard')">üìä Dashboard</button>
            <button class="nav-tab" onclick="showTab('occurrences')">üìã Ocorr√™ncias</button>
            <button class="nav-tab" onclick="showTab('camera-report')">üé• C√¢meras</button>
            <button class="nav-tab" onclick="showTab('reports')">üìÑ Relat√≥rios</button>
        </nav>

        <!-- Dashboard -->
        <div id="dashboard" class="content-section active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Total Ocorr√™ncias</span>
                        <div class="stat-icon" style="background:#e0f2fe; color:#0369a1;">üìù</div>
                    </div>
                    <div class="stat-value" id="totalOccurrences">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Encerradas</span>
                        <div class="stat-icon" style="background:#dcfce7; color:#15803d;">‚úÖ</div>
                    </div>
                    <div class="stat-value" id="resolvedCount" style="color:#10b981;">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Em Andamento</span>
                        <div class="stat-icon" style="background:#fef3c7; color:#a16207;">‚è≥</div>
                    </div>
                    <div class="stat-value" id="pendingCount" style="color:#f59e0b;">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Taxa Resolu√ß√£o</span>
                        <div class="stat-icon" style="background:#f1f5f9; color:#475569;">üìà</div>
                    </div>
                    <div class="stat-value" id="resolutionRate" style="color:#3b82f6;">0%</div>
                </div>
            </div>

            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-title">üìä Ocorr√™ncias por Tipo</div>
                    <canvas id="typeChart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">üìà Status de Resolu√ß√£o</div>
                    <canvas id="statusChart"></canvas>
                </div>
                <div class="chart-container" style="grid-column: 1 / -1">
                    <div class="chart-title">üé• Sa√∫de do Parque de C√¢meras</div>
                    <canvas id="cameraChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Ocorr√™ncias -->
        <div id="occurrences" class="content-section">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2 style="font-weight:800; color:var(--primary);">Gest√£o de Ocorr√™ncias</h2>
                <button class="btn btn-primary" onclick="openNewOccurrenceModal()">‚ûï Registrar Ocorr√™ncia</button>
            </div>
            
            <div class="filters-bar">
                <div class="input-group">
                    <label>Buscar</label>
                    <input type="text" id="searchInput" placeholder="Local, c√¢mera ou descri√ß√£o...">
                </div>
                <div class="input-group">
                    <label>Tipo</label>
                    <select id="typeFilter"></select>
                </div>
                <div class="input-group">
                    <label>Status</label>
                    <select id="statusFilter">
                        <option value="">Todos</option>
                        <option value="Encerrada">Encerrada</option>
                        <option value="Em andamento">Em andamento</option>
                    </select>
                </div>
            </div>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th style="width:50px;">ID</th>
                            <th>Data/Hora</th>
                            <th>Tipo</th>
                            <th>Local</th>
                            <th>Status</th>
                            <th>Operador</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </div>

        <!-- C√¢meras -->
        <div id="camera-report" class="content-section">
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-label">Total C√¢meras</div><div class="stat-value" id="totalCameras">288</div></div>
                <div class="stat-card"><div class="stat-label">Online</div><div class="stat-value" id="onlineCameras" style="color:var(--success);">0</div></div>
                <div class="stat-card"><div class="stat-label">Offline</div><div class="stat-value" id="offlineCameras" style="color:var(--danger);">0</div></div>
                <div class="stat-card"><div class="stat-label">Defeito</div><div class="stat-value" id="defectiveCameras" style="color:var(--warning);">0</div></div>
            </div>
            <div class="filters-bar" style="justify-content:center; display:flex;" id="nvrSelector"></div>
            <div class="camera-grid" id="cameraGrid"></div>
        </div>

        <!-- Relat√≥rios -->
        <div id="reports" class="content-section">
            <div style="background:white; padding:30px; border-radius:16px; border:1px solid var(--border); box-shadow:var(--shadow);">
                <h2 style="margin-bottom:20px; font-weight:800;">Central de Relat√≥rios Inteligente</h2>
                <div class="filters-bar" style="grid-template-columns: 1fr auto;">
                    <div class="input-group">
                        <label>Per√≠odo de An√°lise</label>
                        <select id="reportPeriodSelect">
                            <option value="today">Hoje</option>
                            <option value="week">√öltimos 7 Dias</option>
                            <option value="month">Este M√™s</option>
                            <option value="year">Este Ano</option>
                        </select>
                    </div>
                    <div style="display:flex; align-items:flex-end; gap:10px;">
                        <button class="btn btn-outline" onclick="generateReport('preview')">üëÅÔ∏è Visualizar</button>
                        <button class="btn btn-primary" onclick="generateReport('print')">üñ®Ô∏è Imprimir PDF</button>
                    </div>
                </div>
                <div id="reportPreview" style="margin-top:20px; border:1px solid var(--border); border-radius:12px; min-height:400px; background:#f8fafc;">
                    <div style="display:flex; align-items:center; justify-content:center; height:400px; color:var(--text-muted);">
                        Selecione o per√≠odo e clique em visualizar para gerar o relat√≥rio.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modais -->
    <div id="occurrenceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Registrar Ocorr√™ncia</h2>
                <button class="btn btn-outline" style="padding:5px;" onclick="closeModal('occurrenceModal')">‚úï</button>
            </div>
            <form id="occurrenceForm">
                <div class="modal-body">
                    <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(180px, 1fr)); gap:15px;">
                        <div class="input-group"><label>Data Registro</label><input type="date" name="registrationDate" required></div>
                        <div class="input-group"><label>Data Ocorr√™ncia</label><input type="date" name="occurrenceDate" required></div>
                        <div class="input-group"><label>Hora Inicial</label><input type="time" name="startTime" required></div>
                        <div class="input-group"><label>Hora Final</label><input type="time" name="endTime" required></div>
                        <div class="input-group"><label>Local</label><input type="text" name="location" required></div>
                        <div class="input-group"><label>C√¢mera</label><input type="text" name="camera" required></div>
                        <div class="input-group"><label>Tipo</label><select id="type" name="type" required></select></div>
                        <div class="input-group"><label>Status</label><select name="classification" required><option value="Encerrada">Encerrada</option><option value="Em andamento">Em andamento</option></select></div>
                        <div class="input-group"><label>Operador</label><select id="operator" name="operator" required></select></div>
                        <div class="input-group"><label>Turno</label><select name="shift" required><option value="Diurno">Diurno</option><option value="Noturno">Noturno</option></select></div>
                        <div class="input-group" style="grid-column: 1/-1"><label>Descri√ß√£o T√©cnica</label><textarea name="technicalDescription" rows="3" required></textarea></div>
                        <div class="input-group" style="grid-column: 1/-1"><label>A√ß√£o Tomada</label><textarea name="actionTaken" rows="3" required></textarea></div>
                        <div class="input-group"><label>√ìrg√£os Acionados</label><input type="text" name="agenciesContacted"></div>
                        <div class="input-group" style="grid-column: 1/-1"><label>Observa√ß√µes</label><textarea name="observations" rows="2"></textarea></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" onclick="closeModal('occurrenceModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Registro</button>
                </div>
            </form>
        </div>
    </div>

    <div id="cameraStatusModal" class="modal">
        <div class="modal-content" style="max-width:450px;">
            <div class="modal-header">
                <h2 id="cameraModalTitle">Configurar C√¢mera</h2>
                <button class="btn btn-outline" style="padding:5px;" onclick="closeCameraModal()">‚úï</button>
            </div>
            <form id="cameraStatusForm">
                <div class="modal-body">
                    <input type="hidden" id="modalCamId">
                    <div class="input-group" style="margin-bottom:15px;">
                        <label>Status da C√¢mera</label>
                        <select id="modalCamStatus" required>
                            <option value="Online">Online</option>
                            <option value="Offline">Offline</option>
                            <option value="Defeito">Defeito</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Observa√ß√µes T√©cnicas</label>
                        <textarea id="modalCamObs" rows="4" placeholder="Descreva o problema ou observa√ß√£o..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" onclick="closeCameraModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Atualizar C√¢mera</button>
                </div>
            </form>
        </div>
    </div>

    <footer style="text-align:center; padding:30px; color:var(--text-muted); font-size:12px;">
        <p><strong>SISTEMA HUC PREMIUM</strong> | Desenvolvido por HARLEYFOUXSTUDIO ¬© 2026</p>
        <p style="margin-top:5px; opacity:0.6;">Otimizado para PC Local e Navega√ß√£o Web Segura</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
